<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# compress

```go
import "github.com/intel/ixl-go/compress"
```

Package compress provides hardware compression ability \(IAA\).

<details><summary>Example</summary>
<p>

```go
package main

import (
	"bytes"
	"crypto/rand"
	"io"
	"log"

	"github.com/intel/ixl-go/compress"
)

func main() {
	input := make([]byte, 1024)
	rand.Read(input)
	var w io.WriteCloser
	d, err := compress.NewDeflate(bytes.NewBuffer(nil))
	if err != nil {
		// IAA devices not found
		log.Fatalln(err)
	}
	w = compress.NewWriter(d)
	w.Write(input)
	w.Close()
}
```

</p>
</details>

## Index

- [Variables](<#variables>)
- [func Ready() bool](<#func-ready>)
- [type BufWriter](<#type-bufwriter>)
  - [func NewWriter(bw blockWriter) *BufWriter](<#func-newwriter>)
  - [func (w *BufWriter) Close() error](<#func-bufwriter-close>)
  - [func (w *BufWriter) Flush() error](<#func-bufwriter-flush>)
  - [func (w *BufWriter) Reset(writer io.Writer)](<#func-bufwriter-reset>)
  - [func (w *BufWriter) Write(data []byte) (n int, err error)](<#func-bufwriter-write>)
- [type Deflate](<#type-deflate>)
  - [func NewDeflate(w io.Writer) (*Deflate, error)](<#func-newdeflate>)
  - [func (d *Deflate) Close() error](<#func-deflate-close>)
  - [func (d *Deflate) ReadFrom(r io.Reader) (total int64, err error)](<#func-deflate-readfrom>)
  - [func (d *Deflate) Reset(w io.Writer)](<#func-deflate-reset>)
- [type Gzip](<#type-gzip>)
  - [func NewGzip(w io.Writer) *Gzip](<#func-newgzip>)
  - [func (g *Gzip) Close() error](<#func-gzip-close>)
  - [func (g *Gzip) ReadFrom(reader io.Reader) (n int64, err error)](<#func-gzip-readfrom>)
  - [func (g *Gzip) Reset(w io.Writer)](<#func-gzip-reset>)
- [type Header](<#type-header>)
- [type Inflate](<#type-inflate>)
  - [func NewInflate(r io.Reader) (*Inflate, error)](<#func-newinflate>)
  - [func NewInflateWithBufferSize(r io.Reader, bufferSize int) (*Inflate, error)](<#func-newinflatewithbuffersize>)
  - [func (i *Inflate) Read(data []byte) (n int, err error)](<#func-inflate-read>)
  - [func (i *Inflate) Reset(r io.Reader)](<#func-inflate-reset>)


## Variables

```go
var (
    // ErrNonLatin1Header means the header string should be Latin-1 encoded.
    ErrNonLatin1Header = errors.New("gzip: non-Latin-1 header string")
    // ErrZeroByte means the header string must not contains any zero byte.
    ErrZeroByte = errors.New("gzip: header string contains zero byte")
)
```

## func Ready

```go
func Ready() bool
```

Ready checks if the hardware is usable.

## type BufWriter

BufWriter is a buffer writer for wrapping Deflate/Gzip as a io.Writer.

```go
type BufWriter struct {
    // contains filtered or unexported fields
}
```

### func NewWriter

```go
func NewWriter(bw blockWriter) *BufWriter
```

NewWriter create a new BufWriter. The argument should be Gzip or Deflate.

### func \(\*BufWriter\) Close

```go
func (w *BufWriter) Close() error
```

Close flush all buffered data to underlying block writer and close it.

### func \(\*BufWriter\) Flush

```go
func (w *BufWriter) Flush() error
```

Flush immediately write all buffered data to underlying block writer.

### func \(\*BufWriter\) Reset

```go
func (w *BufWriter) Reset(writer io.Writer)
```

Reset writer.

### func \(\*BufWriter\) Write

```go
func (w *BufWriter) Write(data []byte) (n int, err error)
```

Write data to underlying block writer.

## type Deflate

Deflate takes data written to it and writes the deflate compressed form of that data to an underlying writer \(see NewDeflate\).

Notice:

1. the history buffer used by hardware is 4KB. 2. the \`Deflate\` object should be reused as much as possible to reduce the GC overhead.

```go
type Deflate struct {
    // contains filtered or unexported fields
}
```

### func NewDeflate

```go
func NewDeflate(w io.Writer) (*Deflate, error)
```

NewDeflate returns a new Deflate writing compressed data to underlying writer \`w\`.

### func \(\*Deflate\) Close

```go
func (d *Deflate) Close() error
```

Close the underlying writer.

### func \(\*Deflate\) ReadFrom

```go
func (d *Deflate) ReadFrom(r io.Reader) (total int64, err error)
```

ReadFrom reads all data from \`r\` and compresses the data and then writes compressed data into underlying writer \`w\`.

### func \(\*Deflate\) Reset

```go
func (d *Deflate) Reset(w io.Writer)
```

Reset the \`Deflate\` object.

## type Gzip

Gzip is an object to hold the state for compress data using gzip format.

```go
type Gzip struct {
    Header
    UTF8 bool // can be used with gzip command
    // contains filtered or unexported fields
}
```

### func NewGzip

```go
func NewGzip(w io.Writer) *Gzip
```

NewGzip create a new Gzip.

### func \(\*Gzip\) Close

```go
func (g *Gzip) Close() error
```

Close the writer.

### func \(\*Gzip\) ReadFrom

```go
func (g *Gzip) ReadFrom(reader io.Reader) (n int64, err error)
```

ReadFrom reads all data from \`r\` and compresses the data and then writes compressed data into underlying writer \`w\`.

### func \(\*Gzip\) Reset

```go
func (g *Gzip) Reset(w io.Writer)
```

Reset the internal states for reusing the object.

## type Header

Header is same as gzip.Header

```go
type Header = gzip.Header
```

## type Inflate

Inflate reads data from reader r and decompresses them.

Notice: the compressed data must be compressed by IAA or the whole stream must not larger than 4KB. This because the standard deflate's history buffer size is 32KB, but the IAA deflate's history buffer size is 4KB.

```go
type Inflate struct {
    // contains filtered or unexported fields
}
```

### func NewInflate

```go
func NewInflate(r io.Reader) (*Inflate, error)
```

NewInflate creates a new Inflate with 4KB buffer size to decompress data from reader r.

### func NewInflateWithBufferSize

```go
func NewInflateWithBufferSize(r io.Reader, bufferSize int) (*Inflate, error)
```

NewInflateWithBufferSize creates a new Inflate with specified buffer size to decompress data from reader r.

### func \(\*Inflate\) Read

```go
func (i *Inflate) Read(data []byte) (n int, err error)
```

Read decompressed data from the underlying compressed reader.

### func \(\*Inflate\) Reset

```go
func (i *Inflate) Reset(r io.Reader)
```

Reset reset the Inflate object



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
